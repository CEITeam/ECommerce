@using Microsoft.AspNetCore.Identity
@using CEITeam.ECommerce.Models;

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
<div class="header__upper">
    @* <!-- container --> *@
    <div class="container">
        <ul class="navbar-nav">
            @{
                string userName = null;
            }

            @if (SignInManager.IsSignedIn(User))
            {
                userName = User.Identity.Name;

                @await Component.InvokeAsync("ProfileNavBar", userName);
            }

        </ul>
        <ul class="list list--hr">
            <li class="list__item">
                <a href="#" class="link">
                    @* <!-- icon --> *@
                    <i class="link__icon fas fa-angle-right"></i>
                    @* <!-- info --> *@
                    About Us
                </a>
            </li>
            <li class="list__item">
                <a href="#" class="link">
                    @* <!-- icon --> *@
                    <i class="link__icon fas fa-angle-right"></i>
                    @* <!-- info --> *@
                    Contact Us
                </a>
            </li>
            <!-- languges -->
            <li class="list__item">
                @* <!-- drop down --> *@
                @* <!-- to oppen dropdown dropdown--opened --> *@
                <div class="dropdown ">
                    @* <!-- header --> *@
                    <div class="dropdown__header">
                        <a href="#" class="link">
                            <img class="flag flag-us" src="" alt="">
                            English
                        </a>
                        <i class="fas fa-angle-down"></i>
                    </div>

                    @* <!-- items --> *@
                    <div class="dropdown__body">
                        <ul class="dropdown__items list">
                            <li class="dropdown__item list__item">
                                <a href="#" class="link">
                                    <img class="flag flag-us" src="" alt="">
                                    English
                                </a>
                            </li>
                            <li class="dropdown__item list__item">
                                <a href="#" class="link">
                                    <img class="flag flag-es" src="" alt="">
                                    Español
                                </a>
                            </li>
                            <li class="dropdown__item list__item">
                                <a href="#" class="link">
                                    <img class="flag flag-fr" src="" alt="">
                                    Française
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>
<div class="header__middle container">
    <!-- logo -->
    <a href="#" class="header__logo-box">
        <img class="header__logo" src="/img/logo.png" alt="">
    </a>
    <!-- user options -->
    <div class="header__user-options">
        <!-- login control -->
        @if (SignInManager.IsSignedIn(User))
        {

            <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                <button type="submit" class="nav-link  btn btn-outline-light  text-dark">Logout</button>
            </form>

            <div class="dropdown">
                <div class="dropdown__header">
                    <div class="image image--small image--circle" style="background-image: url('/img/PersonalImage.png')">
                    </div>
                </div>
                <div class="dropdown__body">

                </div>
            </div>

            <!-- shopping card dropdown -->
            <!-- dropdown--opened to open -->
            <div id="dropDown" class="dropdown dropdown--left ">
                <!-- header -->
                <div class="dropdown__header">
                    <div class="image image--small" style="background-image: url('/img/icons/icon-cart-big.svg')">
                        <div class="notification notification--danger">
                            1
                        </div>
                    </div>
                </div>
                <!-- body -->
                <div class="dropdown__body ">
                    <!-- items -->
                    <ul class="dropdown__items list list--vr-separator">
                        <li class="dropdown__item list__item">
                            <!-- item small 2 -->
                            <div class="item-small-1">
                                <!-- item data -->
                                <div class="item-small-1__data">
                                    <!-- title -->
                                    <a href="" class="item-small-1__title">Camera X1000</a>
                                    <!-- price -->
                                    <span class="item-small-1__description">
                                        1 X $890
                                    </span>
                                </div>
                                <!-- item image -->
                                <div class="item-small-1__image-box">
                                    <a href="#" class="item-small-1__image image" style="background-image:url('/img/products/product-1.jpg')">
                                    </a>
                                    <a href="#" class="item-small-1__action">
                                        <i class="fas fa-times"></i>
                                    </a>
                                </div>
                            </div>
                        </li>
                        <li class="dropdown__item list__item">
                            <div class="item-small-1">
                                <!-- item data -->
                                <div class="item-small-1__data">
                                    <!-- title -->
                                    <a href="" class="item-small-1__title">Camera X2000</a>
                                    <!-- price -->
                                    <span class="item-small-1__description">
                                        2 X $990
                                    </span>
                                </div>
                                <!-- item image -->
                                <div class="item-small-1__image-box">
                                    <a href="#" class="item-small-1__image image" style="background-image:url('/img/products/product-1.jpg')">
                                    </a>
                                    <a href="#" class="item-small-1__action">
                                        <i class="fas fa-times"></i>
                                    </a>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <!-- totals -->
                    <div class="separator"></div>
                    <div class="block">
                        <span class="lable">Total:</span>
                        <span class="lable">$2870</span>
                    </div>
                    <!-- actions -->
                    <div class="block list list--hr">
                        <a class="list-item btn btn--gray" href="">View Cart</a>
                        <a class="list-item btn btn--primary" href="">Checkout</a>
                    </div>
                </div>
            </div>
        }
        else
        {
            <button asp-area="Identity" asp-page="/Account/Login" type="submit" class="nav-link  btn btn-outline-light  text-dark">Login</button>

        }
    </div>
</div>